#! /bin/bash
# coding=utf-8

while [[ $# > 0 ]]
do
	key="$1"
	case $key in
		# Parámetros obligatorios
		-d|--root-directory)
		ROOTDIR="$2"
		shift;;
		--languages)
		LANGUAGES="$2"
		shift;;
		# Parámetros opcionales
		--workers)
		WORKERS="$2"
		shift;;
		--local-scheduler)
		SCHEDULER="--local-scheduler"
		shift;;
		--topic-range)
		TOPICRANGE="$2"
		shift;;
		--clean-level)
		CLEAN="$2"
		shift;;
		*)
		shift;;
	esac
done

if [[ ! "$WORKERS" ]]
then
	WORKERS=1
fi

if [[ "$TOPICRANGE" ]]
then
	TOPICRANGE="--topic-range $TOPICRANGE"
fi

if [[ "$CLEAN" ]]
then
	CLEAN="--clean-level $CLEAN"
fi

PARMS="--pdf-dir $ROOTDIR/pdf \
	--txt-dir $ROOTDIR/txt \
	--model-dir $ROOTDIR/models \
	--res-dir $ROOTDIR/results \
	--languages $LANGUAGES \
	$TOPICRANGE \
	$CLEAN \
	--workers $WORKERS \
	$SCHEDULER"

echo USER INFO: Parametros: $PARMS

# Ahora sí corremos el modelo
itam-tm ShowLSI $PARMS
itam-tm ShowLDA $PARMS



